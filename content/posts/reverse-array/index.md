+++
date = "2016-09-20T01:23:50+09:00"
title = "배열 뒤집기"
subtitle = "배타적 논리합(XOR)을 이용한 데이터 스왑"
tags = ["Algorithm"]
draft = true
+++

# 문제
배열 안의 데이터 순서를 바꾼다고 가정하자.  
`['a', 'b,' 'c', 'd']`와 같은 배열을 `['d', 'c', 'b', 'a']`와 같이 뒤집고 싶다는 것이다.  
C#, Python과 같이 고급 언어들은 `.reverse()`하면 아주 손쉽게 배열을 뒤집을 수 있지만, C와 같은 언어에서는 한 번쯤 생각해 볼 수 있는 문제이다.

### 새로운 배열에 역순으로 복사
아마도 가장 단순하게 떠올릴 수 있는 방법은, 똑같은 크기의 배열을 새로 만들어서 역순으로 데이터를 옮기는 것이다.
``` c
char new_array[SIZE];
for(i = 0; i < SIZE; ++i) {
    new_array[SIZE - 1 - i] = old_array[i];
}
```


### 데이터 스왑을 이용
데이터 스왑을 이용해서 배열을 뒤집을 수도 있다.
``` c
char temp;
for(i = 0; i < SIZE / 2; ++i) {
    temp = array[i];
    array[i] = array[SIZE - 1 - i];
    array[SIZE - 1 - i] = temp;
}
```
이 정도면 아주 작은 추가 메모리로 원본 저장소도 유지할 수 있고, 연산횟수도 반으로 줄었으니 더할 나위 없어 보인다.

그러나 모종의 변태들은, 새하얀 도화지의 까만 점 처럼 `temp`가 자꾸 눈에 밟히고 치명적인 오점인 것처럼 생각할지도 모른다. 

# 배타적 논리합(XOR)을 이용한 데이터 스왑
비트 연산 XOR을 이용하면 여분의 메모리를 사용하지 않고도 데이터를 스왑할 수 있다.

``` c
a ^= b;
b ^= a;
a ^= b;
```

|        | a       | z       |
| :----- | :-----: | :-----: |  
| init   | 1100001 | 1111010 |
| a ^= z | 0011011 | 1111010 |
| z ^= a | 1100001 | 0011011 |
| a ^= z | 1111010 | 1100001 |
